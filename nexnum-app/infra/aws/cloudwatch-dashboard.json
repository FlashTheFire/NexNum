{
    "widgets": [
        {
            "type": "metric",
            "x": 0,
            "y": 0,
            "width": 12,
            "height": 6,
            "properties": {
                "title": "API Request Latency (P50/P95/P99)",
                "region": "${AWS_REGION}",
                "metrics": [
                    [
                        "NexNum",
                        "RequestLatency",
                        {
                            "stat": "p50",
                            "label": "P50"
                        }
                    ],
                    [
                        "...",
                        {
                            "stat": "p95",
                            "label": "P95"
                        }
                    ],
                    [
                        "...",
                        {
                            "stat": "p99",
                            "label": "P99"
                        }
                    ]
                ],
                "period": 60,
                "view": "timeSeries",
                "stacked": false
            }
        },
        {
            "type": "metric",
            "x": 12,
            "y": 0,
            "width": 12,
            "height": 6,
            "properties": {
                "title": "Request Count & Error Rate",
                "region": "${AWS_REGION}",
                "metrics": [
                    [
                        "NexNum",
                        "RequestCount",
                        {
                            "stat": "Sum",
                            "label": "Requests"
                        }
                    ],
                    [
                        "NexNum",
                        "ErrorCount",
                        {
                            "stat": "Sum",
                            "label": "Errors",
                            "color": "#d62728"
                        }
                    ]
                ],
                "period": 60,
                "view": "timeSeries"
            }
        },
        {
            "type": "metric",
            "x": 0,
            "y": 6,
            "width": 8,
            "height": 6,
            "properties": {
                "title": "Active Numbers",
                "region": "${AWS_REGION}",
                "metrics": [
                    [
                        "NexNum",
                        "ActiveNumbers",
                        {
                            "stat": "Maximum"
                        }
                    ]
                ],
                "period": 60,
                "view": "timeSeries"
            }
        },
        {
            "type": "metric",
            "x": 8,
            "y": 6,
            "width": 8,
            "height": 6,
            "properties": {
                "title": "Cache Hit Rate",
                "region": "${AWS_REGION}",
                "metrics": [
                    [
                        "NexNum",
                        "CacheHit",
                        {
                            "stat": "Sum",
                            "label": "Hits"
                        }
                    ],
                    [
                        "NexNum",
                        "CacheMiss",
                        {
                            "stat": "Sum",
                            "label": "Misses"
                        }
                    ]
                ],
                "period": 60,
                "view": "timeSeries"
            }
        },
        {
            "type": "metric",
            "x": 16,
            "y": 6,
            "width": 8,
            "height": 6,
            "properties": {
                "title": "Database Query Latency",
                "region": "${AWS_REGION}",
                "metrics": [
                    [
                        "NexNum",
                        "DbQueryLatency",
                        {
                            "stat": "p50",
                            "label": "P50"
                        }
                    ],
                    [
                        "...",
                        {
                            "stat": "p95",
                            "label": "P95"
                        }
                    ]
                ],
                "period": 60,
                "view": "timeSeries"
            }
        },
        {
            "type": "metric",
            "x": 0,
            "y": 12,
            "width": 12,
            "height": 6,
            "properties": {
                "title": "Provider Latency by Provider",
                "region": "${AWS_REGION}",
                "metrics": [
                    [
                        "NexNum",
                        "ProviderLatency",
                        "Provider",
                        "herosms",
                        {
                            "stat": "Average"
                        }
                    ],
                    [
                        "...",
                        "Provider",
                        "grizzlysms",
                        {
                            "stat": "Average"
                        }
                    ],
                    [
                        "...",
                        "Provider",
                        "5sim",
                        {
                            "stat": "Average"
                        }
                    ]
                ],
                "period": 60,
                "view": "timeSeries"
            }
        },
        {
            "type": "metric",
            "x": 12,
            "y": 12,
            "width": 12,
            "height": 6,
            "properties": {
                "title": "Provider Success/Failure",
                "region": "${AWS_REGION}",
                "metrics": [
                    [
                        "NexNum",
                        "ProviderSuccess",
                        {
                            "stat": "Sum",
                            "label": "Success"
                        }
                    ],
                    [
                        "NexNum",
                        "ProviderFailure",
                        {
                            "stat": "Sum",
                            "label": "Failure",
                            "color": "#d62728"
                        }
                    ]
                ],
                "period": 60,
                "view": "timeSeries"
            }
        },
        {
            "type": "metric",
            "x": 0,
            "y": 18,
            "width": 24,
            "height": 6,
            "properties": {
                "title": "ECS Service Metrics",
                "region": "${AWS_REGION}",
                "metrics": [
                    [
                        "AWS/ECS",
                        "CPUUtilization",
                        "ClusterName",
                        "nexnum-production",
                        "ServiceName",
                        "nexnum-api"
                    ],
                    [
                        "AWS/ECS",
                        "MemoryUtilization",
                        "ClusterName",
                        "nexnum-production",
                        "ServiceName",
                        "nexnum-api"
                    ]
                ],
                "period": 60,
                "view": "timeSeries"
            }
        }
    ]
}