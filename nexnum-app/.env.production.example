# ============================================
# NEXNUM PRODUCTION ENVIRONMENT TEMPLATE
# ============================================
# Copy this file to .env.production and fill in all values
# Generated: 2026-01-26
# ============================================

# ── Node Environment ──────────────────────────
NODE_ENV=production

# ── Core Infrastructure (REQUIRED) ────────────
DATABASE_URL=postgresql://user:password@host:5432/nexnum?schema=public
DIRECT_URL=postgresql://user:password@host:5432/nexnum?schema=public  # Direct connection for pg-boss
REDIS_URL=redis://:password@host:6379
MEILISEARCH_HOST=http://your-meilisearch-host:7700
MEILISEARCH_API_KEY=your-meilisearch-master-key

# ── Authentication (REQUIRED) ─────────────────
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your-32-char-min-jwt-secret-here
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# ── Security Secrets (REQUIRED IN PRODUCTION) ─
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
CSRF_SECRET=your-64-hex-char-csrf-secret-here
ENCRYPTION_KEY=your-64-hex-char-encryption-key-here

# ── App Settings ──────────────────────────────
NEXT_PUBLIC_APP_URL=https://your-production-domain.com
NEXT_PUBLIC_SITE_URL=https://your-production-domain.com

# ── SMS Providers (At least ONE required) ─────
SMS_PROVIDER=herosms
HERO_SMS_API_KEY=
GRIZZLYSMS_API_KEY=
SMSBOWER_API_KEY=
FIVESIM_API_KEY=
ONLINESIM_API_KEY=

# ── Limits ────────────────────────────────────
DAILY_SPEND_LIMIT=100
MAX_PURCHASE_AMOUNT=50
MIN_PURCHASE_AMOUNT=0.01
MAX_ACTIVE_NUMBERS=10

# ── Timeouts (milliseconds) ───────────────────
RESERVATION_TTL_MS=300000      # 5 minutes
MIN_REFUND_AGE_MS=120000       # 2 minutes
STUCK_THRESHOLD_MS=600000      # 10 minutes
PROVIDER_TIMEOUT_MS=15000      # 15 seconds
NUMBER_LIFETIME_MS=1200000     # 20 minutes

# ── Workers ───────────────────────────────────
WORKER_BATCH_SIZE=50
WORKER_CONCURRENCY=10
POLL_INTERVAL_MS=30000

# ── Feature Flags ─────────────────────────────
ENABLE_MOCK_PROVIDER=false
DEBUG=false
MAINTENANCE_MODE=false

# ── Pricing ───────────────────────────────────
DEFAULT_MARKUP_PERCENT=20
MIN_PRICE_USD=0.10
MAX_PRICE_USD=50.00

# ── Security ──────────────────────────────────
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX=100
CRON_SECRET=your-cron-secret-for-internal-apis

# ── CAPTCHA (Recommended) ─────────────────────
HCAPTCHA_SECRET=
NEXT_PUBLIC_HCAPTCHA_SITEKEY=

# ── Monitoring (Recommended) ──────────────────
SENTRY_DSN=
SENTRY_ORG=
SENTRY_PROJECT=
SENTRY_AUTH_TOKEN=

# ── Email ─────────────────────────────────────
SMTP_PASS=

# ── Web Push ──────────────────────────────────
# Generate with: npx web-push generate-vapid-keys
NEXT_PUBLIC_VAPID_PUBLIC_KEY=
VAPID_PRIVATE_KEY=
VAPID_SUBJECT=mailto:admin@your-domain.com

# ── OAuth (Optional) ──────────────────────────
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# ── Socket Server ─────────────────────────────
SOCKET_PORT=3951
